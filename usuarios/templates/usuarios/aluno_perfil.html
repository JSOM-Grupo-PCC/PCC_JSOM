{% extends "base_generic.html" %}
{% load user_tags %}

{% block title %}Perfil de {{ aluno.username }}{% endblock title %}

{% block content %}

<div class="container mb-5">
    <div class="row">
      <div class="col-md-10 mx-auto">

        <div class="card card-frame mt-3">
          <div class="card-body">
            <div class="d-flex align-items-center justify-content-between flex-wrap mb-2">
                <h3 class="fs-3 text-center fw-bold ">
                    Perfil do aluno <span class="text-primary_jsom text-decoration-underline">{{ aluno.username }}</span>
                </h3>
              <div class="d-flex flex-wrap justify-content-center align-items-center">
                <!-- Ações no Aluno -->
                {% if user|has_group:"Personal" %}
                    <a aria-current="page" href="{% url 'usuario:aluno_updade' aluno.id %}">
                        <button class="btn bg-gradient-primary_jsom fw-semibold icon-link icon-link-hover p-2 mx-2" style="--bs-icon-link-transform: translate3d(0, -.125rem, 0);" >
                            <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" fill="currentColor" class="bi bi-person-fill-gear me-1" viewBox="0 0 16 16">
                                <path d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0m-9 8c0 1 1 1 1 1h5.256A4.5 4.5 0 0 1 8 12.5a4.5 4.5 0 0 1 1.544-3.393Q8.844 9.002 8 9c-5 0-6 3-6 4m9.886-3.54c.18-.613 1.048-.613 1.229 0l.043.148a.64.64 0 0 0 .921.382l.136-.074c.561-.306 1.175.308.87.869l-.075.136a.64.64 0 0 0 .382.92l.149.045c.612.18.612 1.048 0 1.229l-.15.043a.64.64 0 0 0-.38.921l.074.136c.305.561-.309 1.175-.87.87l-.136-.075a.64.64 0 0 0-.92.382l-.045.149c-.18.612-1.048.612-1.229 0l-.043-.15a.64.64 0 0 0-.921-.38l-.136.074c-.561.305-1.175-.309-.87-.87l.075-.136a.64.64 0 0 0-.382-.92l-.148-.045c-.613-.18-.613-1.048 0-1.229l.148-.043a.64.64 0 0 0 .382-.921l-.074-.136c-.306-.561.308-1.175.869-.87l.136.075a.64.64 0 0 0 .92-.382zM14 12.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"/>
                            </svg>
                            Editar perfil
                        </button>
                    </a>
                    <a aria-current="page" href="{% url 'avaliacoes:lista_avaliacoes' aluno.id %}">
                        <button class="btn bg-gradient-primary_jsom fw-semibold icon-link icon-link-hover p-2  mx-2" style="--bs-icon-link-transform: translate3d(0, -.125rem, 0);" >
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-person-fill-gear me-1" viewBox="0 0 25 25">
                                <path d="m11,23c0,.553-.448,1-1,1h-5c-2.757,0-5-2.243-5-5V5.001C0,2.244,2.242,0,4.999,0h10.001c2.757,0,5,2.242,5,4.999v2c0,.553-.448,1-1,1s-1-.447-1-1v-2c0-1.654-1.346-3-3-3H4.999c-1.654,0-3,1.347-3,3.001v13.999c0,1.654,1.346,3,3,3h5c.552,0,1,.447,1,1Zm12.553.553c-.195.195-.451.293-.707.293s-.512-.098-.707-.293l-2.666-2.666c-.981.698-2.177,1.113-3.473,1.113-3.314,0-6-2.686-6-6s2.686-6,6-6,6,2.686,6,6c0,1.296-.415,2.492-1.113,3.473l2.666,2.666c.391.391.391,1.023,0,1.414Zm-6.573-5.227l2.703-2.614c.398-.383.412-1.016.029-1.414-.382-.399-1.015-.41-1.414-.029l-2.713,2.624c-.143.142-.378.143-.522,0l-1.132-1.108c-.395-.386-1.028-.379-1.414.016-.387.395-.38,1.027.015,1.414l1.132,1.108c.459.449,1.062.674,1.664.674s1.201-.225,1.653-.671ZM7,5h-2c-.552,0-1,.447-1,1s.448,1,1,1h2c.552,0,1-.447,1-1s-.448-1-1-1Zm0,10h-2c-.552,0-1,.447-1,1s.448,1,1,1h2c.552,0,1-.447,1-1s-.448-1-1-1Zm4-10c-.552,0-1,.447-1,1s.448,1,1,1h4c.552,0,1-.447,1-1s-.448-1-1-1h-4Zm-4,5h-2c-.552,0-1,.447-1,1s.448,1,1,1h2c.552,0,1-.447,1-1s-.448-1-1-1Z"/>
                            </svg> 
                            Avaliar aluno
                        </button>
                    </a>
                    <a aria-current="page" href="{% url 'treinos:lista_treinos' aluno.id %}">
                        <button class="btn bg-gradient-primary_jsom fw-semibold icon-link icon-link-hover p-2  mx-2" style="--bs-icon-link-transform: translate3d(0, -.125rem, 0);" >
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-person-fill-gear me-1" viewBox="0 0 25 25">
                                <path d="M24,17v2h-1v3h-2V14h2v3h1Zm-6,0H6v-5h-2v12h2v-5h12v5h2V12h-2v5Zm-17,0H0v2H1v3H3V14H1v3Zm5.879-7.777c-.366-.493-.474-1.114-.296-1.702L9.18,0h6.471l-1.537,4h1.774c.703,0,1.347,.385,1.679,1.005,.333,.619,.297,1.368-.092,1.953l-5.117,7.042h-2.981l.973-4h-1.927c-.615,0-1.178-.283-1.544-.777Zm1.643-1.191l3.101-.031h1.272l-.68,2.796,3.522-4.845-4.534,.049,1.537-4h-2.135l-2.083,6.031Z"/>
                            </svg>
                            Gerenciar Treinos
                        </button>
                    </a>
                {% endif %}
              </div>
            </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item"><strong>Usuário:</strong> {{ aluno.username }}</li>
                    <li class="list-group-item"><strong>Nome Completo:</strong> {{ aluno.get_full_name }}</li>
                    <li class="list-group-item"><strong>Email:</strong> {{ aluno.email }}</li>
                    <li class="list-group-item"><strong>CPF:</strong> {{ aluno.cpf }}</li>
                    <li class="list-group-item"><strong>Endereço:</strong> {{ aluno.endereco }}</li>
                    <li class="list-group-item"><strong>Data de nascimento:</strong> {{ aluno.data_nascimento }}</li>
                </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

{% endblock %}
